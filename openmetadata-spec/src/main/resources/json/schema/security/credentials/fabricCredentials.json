{
  "$id": "https://open-metadata.org/schema/security/credentials/fabricCredentials.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "FabricCredentials",
  "description": "Microsoft Fabric credentials configuration for authentication across Fabric services (Database, Pipeline, Dashboard).",
  "type": "object",
  "javaType": "org.openmetadata.schema.security.credentials.FabricCredentials",
  "definitions": {
    "servicePrincipal": {
      "title": "Service Principal Authentication",
      "description": "Authenticate using Azure Active Directory Service Principal (Application)",
      "type": "object",
      "properties": {
        "type": {
          "title": "Credentials Type",
          "description": "Azure Service Principal Authentication",
          "type": "string",
          "default": "ServicePrincipal",
          "const": "ServicePrincipal"
        },
        "clientId": {
          "title": "Client ID",
          "description": "Azure Active Directory Application (Client) ID",
          "type": "string"
        },
        "clientSecret": {
          "title": "Client Secret",
          "description": "Azure Active Directory Application Client Secret",
          "type": "string",
          "format": "password"
        },
        "tenantId": {
          "title": "Tenant ID",
          "description": "Azure Active Directory Tenant ID",
          "type": "string"
        },
        "authorityUri": {
          "title": "Authority URI",
          "description": "Azure AD Authority URI. Defaults to https://login.microsoftonline.com/",
          "type": "string",
          "default": "https://login.microsoftonline.com/",
          "format": "uri"
        }
      },
      "required": ["clientId", "clientSecret", "tenantId"],
      "additionalProperties": false
    }
  },
  "properties": {
    "credentials": {
      "title": "Fabric Credentials",
      "description": "Microsoft Fabric authentication credentials",
      "oneOf": [
        {
          "$ref": "#/definitions/servicePrincipal"
        }
      ]
    }
  },
  "additionalProperties": false,
  "required": ["credentials"]
}
