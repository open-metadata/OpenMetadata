/*
 *  Copyright 2023 Collate.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *  http://www.apache.org/licenses/LICENSE-2.0
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
@import (reference) '../../../styles/variables.less';

.left-sidebar-col {
  position: relative;

  .left-sidebar-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 84px;
    border-radius: 0;

    transition: 0.3s ease-in-out;
    overflow: scroll;
    scrollbar-width: none;
    &::-webkit-scrollbar {
      display: none;
    }

    //  sub menu dropdown will be closed by default
    .ant-menu-sub {
      display: none;
    }

    .ant-menu-submenu-arrow {
      opacity: 0;
      transition: 0.3s ease-in-out;
    }
  }

  .logo-container {
    height: 80px;
    text-align: center;
    padding: 20px 0;
  }

  // Css apply when sidebar is open

  .sidebar-open {
    width: 230px;

    .ant-menu-submenu-arrow {
      opacity: 1;
    }

    .ant-menu-sub {
      display: initial;
    }

    .ant-menu-hidden {
      display: none;
    }

    .left-sidebar-menu.ant-menu {
      background-color: #f8f9fc !important;
      .ant-menu-item {
        .ant-menu-item-icon {
        }

        .left-panel-item {
          .left-panel-label {
            opacity: 1;
          }

          .service-beta-tag {
            position: static;
            sup {
              margin-left: 8px;
              position: static;
            }
          }
        }
      }

      .ant-menu-submenu {
        .ant-menu-submenu-title {
          .left-panel-item {
            .left-panel-label {
              opacity: 1;
            }
          }
        }

        .ant-menu-item-icon {
        }
      }
    }
  }

  .ant-menu-inline,
  .ant-menu-vertical,
  .ant-menu-vertical-left {
    border: none;
  }

  .left-sidebar-menu.ant-menu {
    background-color: transparent !important;

    .ant-menu-item {
      padding: 6px 12px;
      height: auto;
      margin: 4px auto;
      transition: 0.3s ease-in-out;
      overflow: visible;

      &:after {
        border: none;
      }

      &:hover {
        color: @text-color;

        .ant-menu-item-icon {
          background: transparent;
        }
      }

      .left-panel-item {
        .service-beta-tag {
          position: absolute;
          top: -4px;
          right: 20px;
          sup {
            font-size: 8px;
            background: @primary-1;
            border: 1px solid @primary-color;
            color: @primary-color;
          }
        }

        .anticon {
          svg {
            font-size: 40px;
            fill: transparent;
          }
        }

        .left-panel-label {
          color: @text-grey-muted;
          font-weight: 500;
          opacity: 0;
        }
      }
    }

    .ant-menu-submenu {
      padding: 2px 0;
      height: auto;

      .ant-menu-submenu-title {
        padding: 8px 0 8px 8px !important;
        margin: auto;
        height: auto;

        .left-panel-item {
          position: relative;
          .anticon {
            svg {
              font-size: 40px;
              fill: transparent;
            }
          }

          .left-panel-label {
            font-weight: 500;
            color: @text-grey-muted;
            opacity: 0;
          }
        }
      }

      .ant-menu-item {
        padding: 8px 0 8px 30px !important;
        height: auto;
      }

      .ant-menu-sub.ant-menu-inline {
        background: transparent;

        .ant-menu-item {
          padding: 4px 0 4px 30px !important;
          height: auto;

          .left-panel-item {
            .anticon {
              svg {
                font-size: 30px;
                fill: transparent;
              }
            }
          }
        }
      }
    }

    .ant-menu-submenu-selected {
      .ant-menu-submenu-title {
        .left-panel-item {
          .left-panel-label {
            color: @text-color;
          }
          .anticon {
            svg {
              color: @primary-color;
            }
          }
        }
      }

      .ant-menu-sub.ant-menu-inline {
        background: transparent;
      }
    }

    &:not(.ant-menu-horizontal) .ant-menu-item-selected,
    .ant-menu-item:active,
    .ant-menu-submenu-title:active,
    .ant-menu-item:hover,
    .ant-menu-submenu-title:hover {
      color: @text-color;

      .left-panel-item {
        .left-panel-label {
          color: @text-color;
        }
      }

      .anticon {
        svg {
          color: @primary-color !important;
        }
      }
    }

    .ant-menu-submenu:hover
      > .ant-menu-submenu-title
      > .ant-menu-submenu-expand-icon,
    .ant-menu-submenu:hover
      > .ant-menu-submenu-title
      > .ant-menu-submenu-arrow {
      color: initial;
    }
  }

  .left-sidebar-menu.ant-menu > .ant-menu-item {
    &:first-child {
      margin-top: 0;
    }
  }
}

.left-panel-item.active,
.left-panel-item:hover {
  text-decoration: none;
}

.left-panel-item.ant-btn-text {
  &:hover,
  &:focus {
    background: initial;
  }
}

.page-layout-leftpanel {
  padding: 0 0 24px 0 !important;
  border-right: 1px solid @border-color;
  overflow: auto;
  height: calc(100vh - @om-navbar-height);

  overflow-x: hidden;
}

// support for rtl in sidebar

.left-sidebar-col-rtl {
  .left-sidebar-container {
    right: 0;
    left: initial;
  }

  .logo-container {
    padding-left: initial;
    padding-right: 14px;
    height: 80px;
  }

  .left-sidebar-menu.ant-menu {
    background: #f8f9fc !important;
    .ant-menu-item {
      padding: 8px 13px 8px 0 !important;

      .left-panel-item {
        .anticon {
          margin-right: initial;
        }

        .service-beta-tag {
          right: initial;
          left: 20px;
        }
      }
    }

    .ant-menu-submenu {
      .ant-menu-submenu-title {
        padding: 8px 13px 8px 0px !important;
      }

      .ant-menu-item {
        padding: 8px 30px 8px 0 !important;
      }

      .ant-menu-sub.ant-menu-inline {
        .ant-menu-item {
          padding: 4px 30px 4px 0 !important;
        }
      }
    }
  }
}
