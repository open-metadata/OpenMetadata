# Persisted GraphQL queries for production use.
# These queries are pre-approved and hashed for security.
# Only persisted queries allowed in production (no arbitrary queries).

query GetZIScore {
  ziScore {
    overall
    storageScore
    queryScore
    computeScore
    trend
    status
    breakdown {
      storage
      compute
      query
      others
    }
    metadata {
      totalTables
      activeTables
      inactiveTables
      totalStorageTb
      wasteStorageTb
      wastePercentage
      monthlyCostUsd
      monthlySavingsOpportunityUsd
      annualSavingsOpportunityUsd
      zombieTables
      zombiePercentage
      staleTables
      stalePercentage
      calculatedAt
    }
  }
}

# Simplified query for just the gauge display
query GetZIScoreSummary {
  ziScore {
    overall
    status
    trend
    breakdown {
      storage
      compute
      query
      others
    }
  }
}

# Future persisted queries:
# - GetActionItems
# - GetCampaigns
# - GetPurgeCandidates
# - CreateActionItem (mutation)
# etc.

