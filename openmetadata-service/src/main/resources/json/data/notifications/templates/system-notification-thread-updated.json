{
  "name": "system-notification-thread-updated",
  "fullyQualifiedName": "system-notification-thread-updated",
  "displayName": "Thread Updated Notification",
  "description": "System default template for thread update notifications",
  "provider": "system",
  "templateSubject": "[{{publisherName}}] - Change Event Update from {{emailingEntity}}",
  "templateBody": "{{#if (eq entity.type 'Task')}}<strong>@{{entity.updatedBy}}</strong> posted update on the Task with Id: {{entity.task.id}} for Asset <a href=\"{{buildEntityUrl entity.entityRef.type entity.entityRef.fullyQualifiedName}}\">{{entity.entityRef.fullyQualifiedName}}</a><br><strong>Task Type:</strong> {{entity.task.type}}<br><strong>Assignees:</strong> {{#each entity.task.assignees}}@{{name}}{{#unless @last}}, {{/unless}}{{/each}}<br><strong>Current Status:</strong> {{entity.task.status}}{{else if (eq entity.type 'Announcement')}}<strong>@{{entity.updatedBy}}</strong> updated <strong>Announcement</strong>{{#if entity.entityRef}} for <strong>{{camelCaseToTitle entity.entityRef.type}}</strong> <a href=\"{{buildEntityUrl entity.entityRef.type entity.entityRef.fullyQualifiedName}}\">{{#if entity.entityRef.displayName}}{{entity.entityRef.displayName}}{{else}}{{entity.entityRef.fullyQualifiedName}}{{/if}}</a>{{/if}}<br><br>{{#if event.changeDescription}}{{#with (groupEventChanges event.changeDescription) as |changes|}}{{#if changes.updates}}üìù <strong>Changes:</strong><ul>{{#each changes.updates}}{{#if (eq name 'message')}}<li><strong>Title:</strong> {{textDiff oldValue newValue}}</li>{{else if (eq name 'announcement.startTime')}}<li><strong>Start time:</strong> <s>{{formatDate oldValue}}</s> ‚Üí <b>{{formatDate newValue}}</b></li>{{else if (eq name 'announcement.endTime')}}<li><strong>End time:</strong> <s>{{formatDate oldValue}}</s> ‚Üí <b>{{formatDate newValue}}</b></li>{{/if}}{{/each}}{{#each changes.updates}}{{#if (eq name 'announcement.description')}}<li><strong>Description:</strong></li>{{/if}}{{/each}}</ul>{{#each changes.updates}}{{#if (eq name 'announcement.description')}}<blockquote>{{{textDiff (processMentions oldValue) (processMentions newValue)}}}</blockquote>{{/if}}{{/each}}{{/if}}{{/with}}{{/if}}{{else}}<strong>@{{entity.updatedBy}}</strong> updated <strong>Conversation</strong> for <strong>{{camelCaseToTitle entity.entityRef.type}}</strong> <a href=\"{{buildEntityUrl entity.entityRef.type entity.entityRef.fullyQualifiedName}}\">{{#if entity.entityRef.displayName}}{{entity.entityRef.displayName}}{{else}}{{entity.entityRef.fullyQualifiedName}}{{/if}}</a><br><br>{{#if event.changeDescription}}{{#with (groupEventChanges event.changeDescription) as |changes|}}{{#if changes.updates}}<strong>Message updated:</strong><br><blockquote>{{#each changes.updates}}{{#if (eq name 'message')}}{{{textDiff (processMentions oldValue) (processMentions newValue)}}}{{/if}}{{/each}}</blockquote>{{/if}}{{/with}}{{else}}<blockquote>{{{processMentions entity.message}}}</blockquote>{{/if}}{{/if}}"
}
