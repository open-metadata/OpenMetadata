{
  "name": "system-notification-entity-updated",
  "fullyQualifiedName": "system-notification-entity-updated",
  "displayName": "Entity Updated Notification",
  "description": "System default template for entity update notifications",
  "provider": "system",
  "templateSubject": "{{event.entityType}} {{entity.name}} updated",
  "templateBody": "{{#if (eq channel 'email')}}Hello {{recipientName}},<br/><br/>{{/if}}[{{publisherName}}] <b>{{event.userName}}</b> updated {{event.entityType}} <a href=\"{{entity.href}}\">{{entity.fullyQualifiedName}}</a>{{#with (groupEventChanges event.changeDescription) as |changes|}}{{#if changes.updates}}<br/><b>Changed fields:</b><ul style=\"padding-left:16px;margin:0;\">{{#each changes.updates}}<li>Updated <b>{{#if (startsWith name 'columns.')}}{{#with (split name '.') as |parts|}}{{#if (endsWith name '.tags')}}tags for column {{lookup parts 1}}{{else}}{{lookup parts 2}} for column {{lookup parts 1}}{{/if}}{{/with}}{{else if (startsWith name 'extension.')}}{{#with (split name '.') as |parts|}}custom property '{{lookup parts 1}}'{{/with}}{{else}}{{name}}{{/if}}</b>: {{#if (or (eq name 'tags') (endsWith name '.tags'))}}{{#if oldValue}}{{joinList oldValue}}{{else}}<em>empty</em>{{/if}} → {{#if newValue}}{{joinList newValue}}{{else}}<em>empty</em>{{/if}}{{else if (eq name 'owner')}}{{#if oldValue}}{{#if oldValue.displayName}}{{oldValue.displayName}}{{else if oldValue.name}}{{oldValue.name}}{{else}}{{oldValue}}{{/if}}{{else}}<em>No Owner</em>{{/if}} → {{#if newValue}}{{#if newValue.displayName}}{{newValue.displayName}}{{else if newValue.name}}{{newValue.name}}{{else}}{{newValue}}{{/if}}{{else}}<em>No Owner</em>{{/if}}{{else if (eq name 'owners')}}{{#each oldValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{else}}<em>No Owner</em>{{/each}} → {{#each newValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{else}}<em>No Owner</em>{{/each}}{{else if (eq name 'domain')}}{{resolveDomain oldValue}} → {{#with (buildEntityUrl newValue) as |url|}}<a href=\"{{url}}\">{{resolveDomain newValue}}</a>{{else}}{{resolveDomain newValue}}{{/with}}{{else if (eq name 'domains')}}{{#each oldValue}}{{resolveDomain this}}{{#unless @last}}, {{/unless}}{{else}}<em>No Domain</em>{{/each}} → {{#each newValue as |domain|}}{{#with (buildEntityUrl domain) as |url|}}<a href=\"{{url}}\">{{resolveDomain domain}}</a>{{else}}{{resolveDomain domain}}{{/with}}{{#unless @last}}, {{/unless}}{{else}}<em>No Domain</em>{{/each}}{{else if (eq name 'description')}}{{diff oldValue newValue}}{{else if (startsWith name 'extension.')}}{{#if oldValue}}{{oldValue}}{{else}}<em>Not Set</em>{{/if}} → {{#if newValue}}{{newValue}}{{else}}<em>Not Set</em>{{/if}}{{else if (eq name 'assets')}}{{#each oldValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{else}}<em>No assets</em>{{/each}} → {{#each newValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{else}}<em>No assets</em>{{/each}}{{else if (eq name 'testCaseResult')}}{{#if newValue}}{{#if newValue.testCaseStatus}}Test Case <b>{{#if @root.entity.displayName}}{{@root.entity.displayName}}{{else}}{{@root.entity.name}}{{/if}}</b> is <b>{{#if (eq newValue.testCaseStatus 'Success')}}<span style=\"color:#48CA9E\">Passed</span>{{else if (eq newValue.testCaseStatus 'Failed')}}<span style=\"color:#F24822\">Failed</span>{{else if (eq newValue.testCaseStatus 'Aborted')}}<span style=\"color:#FFBE0E\">Aborted</span>{{else if (eq newValue.testCaseStatus 'Queued')}}<span style=\"color:#959595\">Queued</span>{{else}}{{newValue.testCaseStatus}}{{/if}}</b> in {{@root.entity.fullyQualifiedName}}{{else}}Test Case <b>{{#if @root.entity.displayName}}{{@root.entity.displayName}}{{else}}{{@root.entity.name}}{{/if}}</b> is updated in {{@root.entity.fullyQualifiedName}}{{/if}}{{else}}Test Case <b>{{#if @root.entity.displayName}}{{@root.entity.displayName}}{{else}}{{@root.entity.name}}{{/if}}</b> is updated in {{@root.entity.fullyQualifiedName}}{{/if}}{{else if (eq name 'kpiResult')}}{{#if newValue}}{{#if newValue.targetResult}}{{#with (lookup newValue.targetResult 0) as |result|}}Added Results for <b>{{@root.entity.name}}</b>. Target Name: <b>{{result.name}}</b>, Current Value: <b>{{result.value}}</b>, Target Met: <b>{{result.targetMet}}</b>{{/with}}{{else}}KpiResult <b>{{@root.entity.name}}</b> is updated{{/if}}{{else}}KpiResult <b>{{@root.entity.name}}</b> is updated{{/if}}{{else if (eq name 'pipelineStatus')}}{{#if (eq @root.event.entityType 'ingestionPipeline')}}{{#if newValue}}Ingestion Pipeline <b>{{@root.entity.name}}</b> {{newValue.pipelineState}} at {{formatDate newValue.timestamp}}{{else}}Ingestion Pipeline <b>{{@root.entity.name}}</b> is updated{{/if}}{{else if (eq @root.event.entityType 'pipeline')}}{{#if newValue}}Pipeline <b>{{@root.entity.name}}</b> {{newValue.executionStatus}} at {{formatDate newValue.timestamp}}{{else}}Pipeline <b>{{@root.entity.name}}</b> is updated{{/if}}{{else}}{{#if oldValue}}{{oldValue}}{{else}}<em>empty</em>{{/if}} → {{#if newValue}}{{newValue}}{{else}}<em>empty</em>{{/if}}{{/if}}{{else if (eq name 'queryUsedIn')}}{{#if @root.entity.query}}for '{{@root.entity.query}}', <br/>{{/if}}Query Used in: {{#each oldValue as |entity|}}{{#with (buildEntityUrl entity) as |url|}}<a href=\"{{url}}\">{{entity.fullyQualifiedName}}</a>{{else}}{{entity.fullyQualifiedName}}{{/with}}{{#unless @last}}, {{/unless}}{{else}}<em>Not used</em>{{/each}} → {{#if @root.entity.query}}for '{{@root.entity.query}}', <br/>{{/if}}Query Used in: {{#each newValue as |entity|}}{{#with (buildEntityUrl entity) as |url|}}<a href=\"{{url}}\">{{entity.fullyQualifiedName}}</a>{{else}}{{entity.fullyQualifiedName}}{{/with}}{{#unless @last}}, {{/unless}}{{else}}<em>Not used</em>{{/each}}{{else if (startsWith name 'columns.')}}{{formatColumnValue oldValue}} → {{formatColumnValue newValue}}{{else if (startsWith name 'customProperties.')}}{{#if oldValue}}{{oldValue}}{{else}}<em>Not Set</em>{{/if}} → {{#if newValue}}{{newValue}}{{else}}<em>Not Set</em>{{/if}}{{else}}{{#if oldValue}}{{oldValue}}{{else}}<em>empty</em>{{/if}} → {{#if newValue}}{{newValue}}{{else}}<em>empty</em>{{/if}}{{/if}}</li>{{/each}}</ul>{{/if}}{{#if changes.adds}}<br/><b>Added fields:</b><ul style=\"padding-left:16px;margin:0;\">{{#each changes.adds}}<li>{{#if (eq name 'followers')}}Followed <b>{{@root.event.entityType}}</b> {{@root.entity.fullyQualifiedName}}{{else if (startsWith name 'columns.')}}{{#with (split name '.') as |parts|}}{{#if (endsWith name '.tags')}}Added <b>tags</b> to column <b>{{lookup parts 1}}</b>: <b>{{joinList newValue}}</b>{{else}}Added <b>{{lookup parts 2}}</b> to column <b>{{lookup parts 1}}</b>: <b>{{newValue}}</b>{{/if}}{{/with}}{{else if (eq name 'tags')}}<b>tags</b>: <b>{{joinList newValue}}</b>{{else if (startsWith name 'extension.')}}{{#with (split name '.') as |parts|}}Added custom property <b>'{{lookup parts 1}}'</b>: <b>{{newValue}}</b>{{/with}}{{else if (eq name 'owner')}}<b>owner</b>: <b>{{#if newValue.displayName}}{{newValue.displayName}}{{else if newValue.name}}{{newValue.name}}{{else}}{{newValue}}{{/if}}</b>{{else if (eq name 'owners')}}<b>owners</b>: <b>{{#each newValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{/each}}</b>{{else if (eq name 'domain')}}<b>domain</b>: <b>{{#with (buildEntityUrl newValue) as |url|}}<a href=\"{{url}}\">{{resolveDomain newValue}}</a>{{else}}{{resolveDomain newValue}}{{/with}}</b>{{else if (eq name 'domains')}}<b>domains</b>: <b>{{#each newValue as |domain|}}{{#with (buildEntityUrl domain) as |url|}}<a href=\"{{url}}\">{{resolveDomain domain}}</a>{{else}}{{resolveDomain domain}}{{/with}}{{#unless @last}}, {{/unless}}{{/each}}</b>{{else if (eq name 'description')}}<b>description</b>: <b>{{newValue}}</b>{{else if (eq name 'queryUsedIn')}}<b>queryUsedIn</b>: {{#if @root.entity.query}}for '{{@root.entity.query}}', <br/>{{/if}}Query Used in: {{#each newValue as |entity|}}{{#with (buildEntityUrl entity) as |url|}}<a href=\"{{url}}\">{{entity.fullyQualifiedName}}</a>{{else}}{{entity.fullyQualifiedName}}{{/with}}{{#unless @last}}, {{/unless}}{{/each}}{{else if (eq name 'assets')}}<b>assets</b>: <b>{{#each newValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{/each}}</b>{{else}}<b>{{name}}</b>: <b>{{newValue}}</b>{{/if}}</li>{{/each}}</ul>{{/if}}{{#if changes.deletes}}<br/><b>Removed fields:</b><ul style=\"padding-left:16px;margin:0;\">{{#each changes.deletes}}<li>{{#if (eq name 'followers')}}Unfollowed <b>{{@root.event.entityType}}</b> {{@root.entity.fullyQualifiedName}}{{else if (startsWith name 'columns.')}}{{#with (split name '.') as |parts|}}{{#if (endsWith name '.tags')}}Deleted <b>tags</b> from column <b>{{lookup parts 1}}</b>: <s>{{joinList oldValue}}</s>{{else}}Deleted <b>{{lookup parts 2}}</b> from column <b>{{lookup parts 1}}</b>: <s>{{oldValue}}</s>{{/if}}{{/with}}{{else if (eq name 'tags')}}<b>tags</b>: <s>{{joinList oldValue}}</s>{{else if (startsWith name 'extension.')}}{{#with (split name '.') as |parts|}}Deleted custom property <b>'{{lookup parts 1}}'</b>: <s>{{oldValue}}</s>{{/with}}{{else if (eq name 'owner')}}<b>owner</b>: <s>{{#if oldValue.displayName}}{{oldValue.displayName}}{{else if oldValue.name}}{{oldValue.name}}{{else}}{{oldValue}}{{/if}}</s>{{else if (eq name 'owners')}}<b>owners</b>: <s>{{#each oldValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{/each}}</s>{{else if (eq name 'domain')}}<b>domain</b>: <s>{{resolveDomain oldValue}}</s>{{else if (eq name 'domains')}}<b>domains</b>: <s>{{#each oldValue}}{{resolveDomain this}}{{#unless @last}}, {{/unless}}{{/each}}</s>{{else if (eq name 'description')}}<b>description</b>: <s>{{oldValue}}</s>{{else if (eq name 'queryUsedIn')}}<b>queryUsedIn</b>: {{#if @root.entity.query}}for '{{@root.entity.query}}', <br/>{{/if}}Query Used in was removed{{else if (eq name 'assets')}}<b>assets</b>: <s>{{#each oldValue}}{{#if displayName}}{{displayName}}{{else if name}}{{name}}{{else}}{{this}}{{/if}}{{#unless @last}}, {{/unless}}{{/each}}</s>{{else}}<b>{{name}}</b>: <s>{{oldValue}}</s>{{/if}}</li>{{/each}}</ul>{{/if}}{{/with}}{{#if (eq channel 'email')}}<br/><br/>Happy Exploring!<br/>Thanks.{{/if}}"
}